import{c as i,r,j as e,g as S}from"./index-BSg8Hp0o.js";import{P as p}from"./plus-3pnvEuNs.js";import{P as C}from"./phone-ClmOIEU8.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],_=i("check-check",T);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],I=i("ellipsis-vertical",D);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],E=i("paperclip",$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],A=i("send",R);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],P=i("smile",L);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],B=i("video",V),b=[{id:1,name:"Dr. Sarah Wilson",avatar:"https://i.pravatar.cc/150?u=sarah",lastMsg:"I reviewed your last assignment...",time:"10:45 AM",online:!0,unread:2},{id:2,name:"Support Team",avatar:"https://i.pravatar.cc/150?u=support",lastMsg:"How can we help you today?",time:"Yesterday",online:!1,unread:0},{id:3,name:"John Doe",avatar:"https://i.pravatar.cc/150?u=john",lastMsg:"The React 19 notes are great!",time:"2 days ago",online:!0,unread:0},{id:4,name:"Marketing Group",avatar:"https://i.pravatar.cc/150?u=group",lastMsg:"Meeting at 3 PM",time:"Mon",online:!1,unread:0}],Y={1:[{id:"m1",content:"Hi Alex! I've just finished reviewing your latest React assignment. Your use of the new useActionState hook was impressive.",isMe:!1,time:"10:45 AM"},{id:"m2",content:"Thank you, Dr. Wilson! I found that hook really helpful for managing form states. Did you have any feedback on the server actions part?",isMe:!0,time:"10:48 AM"},{id:"m3",content:"Yes, the server actions were well-structured, but you might want to consider more robust error handling for edge cases. I'll send you a link to some documentation.",isMe:!1,time:"10:50 AM"}],2:[],3:[],4:[]};function q(){return new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}const K=()=>{const[l,f]=r.useState(b),[t,v]=r.useState(b[0]),[s,g]=r.useState(""),[j,k]=r.useState(Y),[c,w]=r.useState(""),[N,o]=r.useState(!1),n=r.useRef(null),h=r.useRef(null),m=j[t.id]??[];r.useEffect(()=>{var a;(a=h.current)==null||a.scrollIntoView({behavior:"smooth"})},[m]),r.useEffect(()=>(s.trim()?(o(!0),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>o(!1),2e3)):o(!1),()=>{n.current&&clearTimeout(n.current)}),[s]);const u=c.trim()?l.filter(a=>a.name.toLowerCase().includes(c.toLowerCase())):l,y=()=>{const a=s.trim();if(!a)return;const M={id:`m-${Date.now()}`,content:a,isMe:!0,time:q()};k(d=>({...d,[t.id]:[...d[t.id]??[],M]})),g(""),o(!1),f(d=>d.map(x=>x.id===t.id?{...x,lastMsg:a,time:"Just now",unread:0}:x))};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm overflow-hidden flex h-[calc(100vh-160px)] animate-in zoom-in-95 duration-500",children:[e.jsxs("div",{className:"w-80 border-r border-gray-100 dark:border-gray-700 flex flex-col",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Messages"}),e.jsx("button",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors",children:e.jsx(p,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:c,onChange:a=>w(a.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-100 dark:border-gray-600 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 text-gray-900 dark:text-gray-100 placeholder:text-gray-400"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:u.length===0?e.jsx("div",{className:"p-6 text-center text-sm text-gray-500 dark:text-gray-400",children:"No conversations match your search."}):u.map(a=>e.jsxs("button",{onClick:()=>v(a),className:`w-full p-4 flex gap-4 transition-colors border-b border-gray-50 dark:border-gray-700/50 ${t.id===a.id?"bg-indigo-50/50 dark:bg-indigo-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.avatar,alt:"",className:"w-12 h-12 rounded-full object-cover"}),a.online&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white dark:border-gray-800 rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-gray-100 text-sm truncate",children:a.name}),e.jsx("span",{className:"text-[10px] text-gray-400",children:a.time})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:a.lastMsg}),a.unread>0&&e.jsx("span",{className:"w-4 h-4 bg-indigo-600 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:a.unread})]})]})]},a.id))})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:t.avatar,alt:"",className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-100 text-sm",children:t.name}),e.jsx("p",{className:"text-[10px] text-green-500 font-medium",children:t.online?"Online":"Offline"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-xl transition-colors",children:e.jsx(C,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-xl transition-colors",children:e.jsx(B,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-xl transition-colors",children:e.jsx(I,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-gray-50/30 dark:bg-gray-900/30",children:[e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("span",{className:"px-3 py-1 bg-white dark:bg-gray-800 text-[10px] font-bold text-gray-400 rounded-full border border-gray-100 dark:border-gray-700 uppercase tracking-widest",children:"Today"})}),m.map(a=>a.isMe?e.jsx("div",{className:"flex gap-4 flex-row-reverse",children:e.jsxs("div",{className:"max-w-[70%] bg-indigo-600 p-4 rounded-2xl rounded-br-none shadow-lg shadow-indigo-100 dark:shadow-indigo-900/20 text-white",children:[e.jsx("p",{className:"text-sm leading-relaxed",children:a.content}),e.jsxs("div",{className:"flex items-center justify-end gap-1 mt-2",children:[e.jsx("span",{className:"text-[10px] opacity-80",children:a.time}),e.jsx(_,{className:"w-3 h-3"})]})]})},a.id):e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:t.avatar,alt:"",className:"w-8 h-8 rounded-full object-cover mt-auto"}),e.jsxs("div",{className:"max-w-[70%] bg-white dark:bg-gray-800 p-4 rounded-2xl rounded-bl-none shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-200 leading-relaxed",children:a.content}),e.jsx("span",{className:"text-[10px] text-gray-400 mt-2 block",children:a.time})]})]},a.id)),N&&e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:t.avatar,alt:"",className:"w-8 h-8 rounded-full object-cover mt-auto"}),e.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 rounded-2xl rounded-bl-none border border-gray-100 dark:border-gray-700",children:e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"typing..."})})]}),e.jsx("div",{ref:h})]}),e.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-gray-900 p-2 px-4 rounded-2xl border border-gray-100 dark:border-gray-700 focus-within:ring-2 focus-within:ring-indigo-500/20 focus-within:bg-white dark:focus-within:bg-gray-800 transition-all",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(p,{className:"w-5 h-5"})}),e.jsx("input",{type:"text",value:s,onChange:a=>g(a.target.value),onKeyDown:a=>a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),y()),placeholder:"Type your message here...",className:"flex-1 bg-transparent border-none focus:ring-0 text-sm py-2 text-gray-900 dark:text-gray-100 placeholder:text-gray-400"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(P,{className:"w-5 h-5"})}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(E,{className:"w-5 h-5"})}),e.jsx("button",{onClick:y,disabled:!s.trim(),className:`p-2 rounded-xl transition-all ${s.trim()?"bg-indigo-600 text-white shadow-lg shadow-indigo-200 dark:shadow-indigo-900/30":"bg-gray-200 dark:bg-gray-700 text-white"}`,children:e.jsx(A,{className:"w-4 h-4"})})]})]})})]})]})};export{K as Messages};
