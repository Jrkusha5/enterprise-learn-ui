import{r as i,d as v,m as y,j as e,n as x,L as C,f as a}from"./index-BSg8Hp0o.js";import{C as S,a as L,b as k,c as A,d as B,B as r}from"./card-n0METnPN.js";import{I as h}from"./input-Ll5wx4WL.js";import{C as E,G as F,B as I,S as D,L as u}from"./separator-DkjyOI7w.js";import{L as g}from"./lock-dhBQSfHq.js";import{M as O}from"./mail-BUULyGeI.js";const H=()=>{const[l,p]=i.useState(""),[n,j]=i.useState(""),[o,d]=i.useState(!1),{login:f,loginWithOAuth:N,isAuthenticated:m}=v(),t=y();i.useEffect(()=>{m&&t("/dashboard",{replace:!0})},[m,t]);const b=async s=>{if(s.preventDefault(),!l||!n){a.error("Please fill in all fields");return}d(!0);try{await f(l,n),a.success("Welcome back!"),t("/dashboard")}catch{a.error("Invalid email or password")}finally{d(!1)}},c=async s=>{try{await N(s),a.success(`Signed in with ${s.charAt(0).toUpperCase()+s.slice(1)}`),t("/dashboard")}catch{a.error(`Failed to sign in with ${s}`)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-4",children:e.jsxs(S,{className:"w-full max-w-md shadow-xl border-0",children:[e.jsxs(L,{className:"space-y-1 text-center pb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-indigo-100 rounded-2xl flex items-center justify-center mb-4",children:e.jsx(g,{className:"w-8 h-8 text-indigo-600"})}),e.jsx(k,{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),e.jsx(A,{className:"text-base",children:"Sign in to your account to continue learning"})]}),e.jsxs(B,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(r,{type:"button",variant:"outline",className:"w-full",onClick:()=>c("google"),children:e.jsx(E,{className:"w-4 h-4"})}),e.jsx(r,{type:"button",variant:"outline",className:"w-full",onClick:()=>c("github"),children:e.jsx(F,{className:"w-4 h-4"})}),e.jsx(r,{type:"button",variant:"outline",className:"w-full",onClick:()=>c("microsoft"),children:e.jsx(I,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(D,{})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(h,{id:"email",type:"email",placeholder:"you@example.com",value:l,onChange:s=>p(s.target.value),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(u,{htmlFor:"password",children:"Password"}),e.jsx(x,{to:"/forgot-password",className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(h,{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:s=>j(s.target.value),className:"pl-10",required:!0})]})]}),e.jsx(r,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in..."]}):"Sign In"})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx(x,{to:"/register",className:"text-indigo-600 hover:text-indigo-700 font-semibold",children:"Sign up"})]})]})]})})};export{H as Login};
